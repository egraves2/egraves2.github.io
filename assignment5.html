<!DOCTYPE html> 
<html> 
    <head> 
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, maximum-scale=1.0" />

        <title>Erin Graves' HCDE 439 Physical Computing Page!</title> 

        <link href="style.css" media="screen" rel="stylesheet" type="text/css" />

    </head> 
    <body> 

        <div class="header">
            <h1>Erin Graves' Assignment 5!</h1>
                        <h2>Overview</h2>
            <p>Create a schematic, circuit, and code that uses an input device to control a motor! Your input device will be the joystick and the motor can be the servo or the DC motor. You must write the motor's position to the Serial port and show the output of the serial port monitor.
            <h2>Code Snippet </h2>
            
                
                <pre>
            <code>
int yPosition = 0; // sets the starting joystick y pos to 0
int sPos = 0; // sets the starting servo position to 0

#include <Servo.h> // uses Servo library
Servo myServo; // creates a servo object

void setup() {
  // put your setup code here, to run once:
  myServo.attach(9); // attaches the servo to pin 9
  Serial.begin(9600); //initialize serial communications at 9600 bps
}
// repeats
void loop() {
  myServo.write(90); // sets the starting servo position
  yPosition = analogRead(A1); // attaches joystick's y pos to pin A1
  sPos = map(yPosition, 0, 1023, 0, 180); // maps joystick y values to servo angle values
  myServo.write(sPos); // changes the servo angle according to the joystick position
  // print y position to serial monitor
  Serial.print("Y: ");
  Serial.println(yPosition);
  // print servo angle to monitor
  Serial.print("Servo position: ");
  Serial.println(sPos);
  Serial.println(); // line break
  delay(100); // 100 ms delay between servo movement
}
            </code>
        </pre>
            
            <h2>Circuit</h2>
            <p>My circuit is coded so that the servo motor is at 0 degrees when the joystick's y value is 0 and at 180 degrees when the joystick's y value is at maximum 1023. 
                </p>
                <img src="motor_circuit.jpg" width=600></a>
            <h2>Schematic</h2>
            <p>I first checked the serial monitor while moving the joystick vertically up and down to check what the output values were. The minimum (down on joystick) was 0 while the maximum (up on joystick) was around 1023. Since the servo can change its angle between 0 and 180 degrees, I decided to map the minimum y value to the minimum servo angle. I did the same for the maximum y value and servo angle. Therefore, when the joystick is up, the servo is at 180 degrees. When the joystick is in the middle, the servo is at 90 degrees. And when the joystick is down, the servo is at 0 degrees.</p>

            <p>No resistor was needed because the interior of the servo contains a resistor.</p>
                <img src="motor_schematic.jpg" width=600></a>
                



<h2>Video</h2>
                <img src="motor.gif" width=600></a>
                <img src="motor_serial.gif" width=600></a>
            <br>
            <br>
            <br>
            <br>
            <br>
        </div>
        
    </body>
</html>
